# ============================================================================
# SECS Chatbot - Configuração de Ambiente
# ============================================================================
# Copie este arquivo para .env e ajuste os valores conforme necessário
# NUNCA commite o arquivo .env no Git (apenas .env.example)
# ============================================================================

# Ambiente
APP_ENVIRONMENT=dev

# LLM Configuration
LLM_API_KEY=your_api_key_here
LLM_BASE_URL=https://openrouter.ai/api/v1
LLM_MODEL=openai/gpt-3.5-turbo
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=1000

# RAG Configuration
MAX_CONTEXT_CHUNKS=5

# ============================================================================
# EMBEDDINGS - Geração de Vetores Semânticos
# ============================================================================
# Escolha entre processamento local (grátis) ou API OpenAI (pago, melhor qualidade)
#
# EMBEDDING_PROVIDER: Onde processar embeddings
# - 'local': sentence-transformers (GRÁTIS, roda no seu computador)
# - 'openai': API da OpenAI (PAGO ~$0.014/ano, +9% qualidade)
#
# QUANDO USAR LOCAL:
# ✅ Desenvolvimento e testes
# ✅ Orçamento limitado
# ✅ Quer rodar offline
# ✅ Qualidade suficiente (0.82 STSB)
#
# QUANDO USAR OPENAI:
# ✅ Produção com budget
# ✅ Precisa máxima qualidade
# ✅ Documentos multilíngues complexos
#
EMBEDDING_PROVIDER=local

# Para LOCAL (padrão - GRÁTIS):
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384

# Para OPENAI (descomente para usar - PAGO):
# EMBEDDING_PROVIDER=openai
# EMBEDDING_MODEL=text-embedding-3-small
# EMBEDDING_DIMENSION=1536
# OPENAI_EMBEDDING_API_KEY=sk-your-key-here  # Opcional: usa LLM_API_KEY se não definido

# ⚠️  IMPORTANTE: Trocar de provider requer reprocessar documentos!
# O sistema detecta automaticamente e oferece migração ao iniciar.

# Logging
LOG_LEVEL=INFO
LOG_FILE=data/logs/app.log

# ============================================================================
# RATE LIMITING - Controle de Taxa de Requisições
# ============================================================================
# Protege contra abuso e controla custos de API
#
# QUANDO ALTERAR:
# - Desenvolvimento: false (desabilitar para testes rápidos)
# - Produção: true (SEMPRE habilitar para proteger)
# - Demo pública: true (evitar spam e abuso)
#
# COMO FUNCIONA:
# Limita número de requisições por usuário por minuto
# Limites padrão por role (configurados no código):
#   • publico: 20 requisições/minuto
#   • secs: 50 requisições/minuto
#   • admin: 100 requisições/minuto
#
# VALORES POSSÍVEIS:
# - true: Habilita rate limiting (RECOMENDADO para produção)
# - false: Desabilita (apenas para desenvolvimento local)
#
# BENEFÍCIOS:
# ✅ Previne abuso do sistema
# ✅ Controla custos de API (LLM)
# ✅ Garante disponibilidade para todos
# ✅ Protege contra ataques DoS
#
RATE_LIMIT_ENABLED=true

# ============================================================================
# SECURITY - Segurança da Aplicação
# ============================================================================
# SESSION_SECRET: Chave secreta para criptografia de sessões de usuário
#
# ⚠️  CRÍTICO: SEMPRE MUDE EM PRODUÇÃO!
#
# O QUE FAZ:
# - Criptografa cookies de sessão
# - Protege dados de autenticação
# - Previne session hijacking
# - Assina tokens de segurança
#
# QUANDO ALTERAR:
# ✅ SEMPRE antes de deploy em produção
# ✅ Após qualquer vazamento de credenciais
# ✅ Periodicamente (recomendado: a cada 6 meses)
# ✅ Ao detectar atividade suspeita
#
# COMO GERAR UMA CHAVE SEGURA:
#
# Opção 1 - Python (recomendado):
#   python -c "import secrets; print(secrets.token_hex(32))"
#   Resultado: a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6
#
# Opção 2 - OpenSSL:
#   openssl rand -hex 32
#
# Opção 3 - Online (use com cuidado):
#   https://www.random.org/strings/
#   Configure: 64 caracteres, hexadecimal
#
# REQUISITOS:
# ✅ Mínimo 32 caracteres
# ✅ Recomendado: 64 caracteres
# ✅ Usar caracteres aleatórios (hex, base64, etc.)
# ✅ Único para cada ambiente (dev, staging, prod)
#
# ⚠️  NUNCA:
# ❌ Use valores padrão em produção
# ❌ Compartilhe a chave com terceiros
# ❌ Commite a chave no Git
# ❌ Use palavras ou frases simples
# ❌ Reutilize entre ambientes
#
# EXEMPLO DE CHAVE SEGURA:
# SESSION_SECRET=7f3a9b2c8d1e4f5a6b7c8d9e0f1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a
#
SESSION_SECRET=change-me-in-production

# Debug
DEBUG=false

# Database
DB_FILENAME=app.db
DATA_DIR=data

# ============================================================================
# NOTAS FINAIS
# ============================================================================
# 1. Copie este arquivo para .env: cp .env.example .env
# 2. Ajuste os valores conforme seu ambiente
# 3. NUNCA commite .env no Git (já está no .gitignore)
# 4. Para produção, gere novas chaves secretas
# 5. Documente mudanças importantes
#
# Documentação completa: README.md
# ============================================================================
